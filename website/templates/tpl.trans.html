<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <script type="text/javascript" src="/jquery.js"></script>
        <script type="text/javascript" src="/zeroclipboard-1.2.3/ZeroClipboard.js"></script>
        <script type="text/javascript">
            function transform(){
                var codes = $("#t1").val();
                codes = codes.trim().split(/[^0-9]+/);
                codes = $.unique(codes).sort();
                $("#t2").val(codes.join(" "));
            }
            
            function bind_copy(){
                 var clip = new ZeroClipboard( $("#btn-3"), {
                    moviePath: "/zeroclipboard-1.2.3/ZeroClipboard.swf"
                });
                clip.on( 'dataRequested', function ( client, args ) {
                    clip.setText( $("#t2").val() );
                });
            }
            
            $(function(){
                $("#btn-1").click(function(){
                    transform();
                });
                $("#btn-2").click(function(){
                    $("#t1").val("");
                    $("#t2").val("");
                });
                bind_copy();
            });
        </script>
    </head>
    <body>
        <div style="text-align: center;">
            <div>
                <textarea cols="50" rows="10" id="t1"></textarea>
                <textarea cols="50" rows="10" id="t2"></textarea>
                <p>
                    <button id="btn-1">格式化</button>
                    <button id="btn-2">清除</button>
                    <button id="btn-3">复制</button>
                </p>
            </div>
        </div>
    </body>
</html>
